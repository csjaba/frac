
<script src="../lib/frac.js" type="text/javascript"></script>

<script>
  function msg(str) {
    document.write(str);
  };

  function err(str) {
    msg("<p style='color:red;'>"+str+"</p>");
  };

  function ok(str) {
    msg("<p style='color:green'>"+str+"</p>");
  };

  function assert(expected, result, msg) {
    if (expected != result && expected.toString() != result.toString()) 
      err("Error, expected " + expected + ", got " + result + ": " + msg);
    else
      ok("OK: " + msg);
  };

  var tests = [
  [ 0.333,[ 1,   3], 0x100],
  [ 0.77, [77, 100], 0x100],
  [ 0.2,  [ 1,   5], 0x100],
  [ 2,    [ 2,   1], 0x100],
  [-0.5,  [-1,    2], 0x100],
  [ 0,    [ 0,   1], 0x100],
  ["0.85",[17,  20], 0x100],
  [ 0.5,  [ 1,   2], '1000'],
  [ 0.001,[ 0,   1], 2]];

  for (var i = 0; i < tests.length; ++i) {
    var sample = tests[i];
    assert(sample[1], Math.frac(sample[0], sample[2]), sample[0] + " -> " + sample[1][0] + " / " + sample[1][1]);                 
  }
</script>
